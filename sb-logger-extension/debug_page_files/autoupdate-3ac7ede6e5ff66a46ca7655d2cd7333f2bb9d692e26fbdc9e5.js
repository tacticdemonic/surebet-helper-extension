var x=(t,n,e)=>new Promise((a,u)=>{var v=r=>{try{c(e.next(r))}catch(i){u(i)}},f=r=>{try{c(e.throw(r))}catch(i){u(i)}},c=r=>r.done?a(r.value):Promise.resolve(r.value).then(v,f);c((e=e.apply(t,n)).next())});import h from"jquery";import{Popover as T}from"bootstrap";import l from"jquery";import{axios as y}from"utils";import w from"jquery";(function(t){let n='<span data-spin-count=1 class="spinner-border spinner-border-sm" id="spinner"></span>';t.fn.spin=function(){return this.append(n)},t.fn.spinIncr=function(){var e=this.next("#spinner");if(e.length===0)return this.after(n);var a=parseInt(e.attr("data-spin-count"));return e.attr("\
data-spin-count",a+1),e},t.fn.spinDecr=function(){var e=this.next("#spinner");if(e.length>0){var a=parseInt(e.attr("data-spin-count"))-1;a>0?e.attr("data-spin-count",a):e.remove()}return this},t.fn.stopSpin=function(){return this.next("#spinner").remove(),this.find("#spinner").remove(),this},t.stopAllSpins=function(){t(
"#spinner").remove()}})(w);import{Popover as X,Tooltip as H}from"bootstrap";import m from"dynamic";var q=m.symbols;function g(t=1){return new Promise(n=>setTimeout(n,t))}var E=m.i18n.locale,P=m.i18n.translations[E],R=m.i18n.translations.en,b=(P||R).js;var Q=location.protocol==="https:";function d({url:t,method:n,params:e,body:a,timeout:u=5e4}){var i;let f={Accept:"application/javascript","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":(i=document.querySelector('meta[name="csrf-token"]'))==null?void 0:i.content,"Cache-Control":"no-cache"},c={url:t,method:n,params:e,data:a,headers:f,timeout:u};function r(o){
let{request:s}=o;if(!(s!=null&&s.readyState)||!(s!=null&&s.status)||location.href.includes("/surebets?format=json"))return;l.stopAllSpins(),l(document).trigger("close.facebox"),window.trackEvent("AjaxError",o.message),console.error(`Request error: ${o.message}`);let p="ajax-error-"+new Date().getTime();l.flashError(b.internal_error,
"ajax_internal_error",p),setTimeout(function(){l("."+p).remove()},6e4)}return y.interceptors.response.use(function(o){var p;return(p=o.headers["content-type"])!=null&&p.match(/(text|application)\/javascript/)&&S(o.data),o},function(o){return r(o),Promise.reject(o)}),y(c)}function S(t){let n=document.createElement("scri\
pt"),e=document.querySelector("meta[name=csp-nonce]");n.setAttribute("nonce",e==null?void 0:e.content),n.text=t,document.head.appendChild(n).parentNode.removeChild(n)}function C(){let t=h(".app-table").data("product");d({url:"/user_additional_params/autoupdate_checker",method:"POST",params:{product:t}})}h(function(){return x(this,null,function*(){yield g();let t=T.getInstance("#navigation-autoupdate-button");t&&(t.show(),h("#autoupdate-popup-close-button").click(()=>{t.dispose(),C()}))})});

